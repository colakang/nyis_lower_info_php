(function(){"use strict";function a(){window.AvvoAdsConfig?window.AvvoAds.loadAds(window.AvvoAdsConfig):window.AvvoAds.adsLoaded||window.setTimeout(a,0)}window.AvvoAds=function(){function a(a,e,t){return a.attachEvent?a.attachEvent("on"+e,t):a.addEventListener(e,t,!1)}function e(a){var e,t;return a.adLocationId?e=a.adLocationId:a.adLocation?e=a.adLocation:a.adLocationCoordLatitude&&a.adLocationCoordLongitude&&a.adLocationCoordRadius&&(e=a.adLocationCoordLatitude+"."+a.adLocationCoordLongitude+"."+a.adLocationCoordRadius),a.adPracticeAreaId?t=a.adPracticeAreaId:a.adPracticeArea&&(t=a.adPracticeArea),a.adType+"-"+a.adTemplate+"-"+e+"-"+t}function t(a,t){var d=t.dataset.adType,o=t.dataset.adLimit,n=e(t.dataset);a[n]?(a[n].query.limits.push(o),t.dataset.fallbackAdLimit&&a[n].query.fallback.limits.push(t.dataset.fallbackAdLimit),a[n].els.push(t)):(a[n]={els:[t],query:{ad_template:t.dataset.adTemplate,ad_type:d,key:n,limits:[o],location_id:t.dataset.adLocationId,location:t.dataset.adLocation,location_coord:{latitude:t.dataset.adLocationCoordLatitude,longitude:t.dataset.adLocationCoordLongitude,radius:t.dataset.adLocationCoordRadius},practice_area_id:t.dataset.adPracticeAreaId,practice_area:t.dataset.adPracticeArea,template_name:t.dataset.pageTemplateName,track:t.dataset.adTrack,render_instance_guid:window.render_instance_guid,partner_id:u.partnerId,inline_styles:t.dataset.inlineStyles}},t.dataset.fallbackAdLimit&&(a[n].query.fallback={limits:[t.dataset.fallbackAdLimit],ad_template:t.dataset.fallbackAdTemplate,ad_type:t.dataset.fallbackAdType}))}function d(){return"https://ads.avvo.com/ads/fetch"}function o(a,e){if(void 0!==window.Cookies)if(void 0!==a.data[e]&&a.data[e].remnant===!0&&void 0!==a.data[e].phone){var t=a.data[e].phone.replace(/\D/gi,"");window.Cookies.set("phone_"+a.data[e].lawyerId,{text:a.data[e].phone,link:"tel:"+t},{expires:2})}else void 0!==a.data[e]&&window.Cookies.remove("phone_"+a.data[e].lawyerId)}function n(e,t){var d;a(e,"click",function(){var a=e.dataset.adId||"";o(t,a),d=t.data[a],d.target=e.dataset.adClickType,c(d)})}function i(a,e){for(var t=a.getElementsByTagName("a"),d=0;d<t.length;d++)n(t[d],e)}function r(a){a=a.split("+").join(" ");for(var e,t={},d=/[?&]?([^=]+)=([^&]*)/g;e=d.exec(a);)t[decodeURIComponent(e[1])]=decodeURIComponent(e[2]);return t}function s(a){var e,t=new XMLHttpRequest,o={ads:[]},n={};for(var s in a)n=a[s],o.ads.push(a[s].query);e=r(window.location.search),o.geo_ip_override=e.geo_ip_override,o.geo_zip_override=e.geo_zip_override,o.preview_ad=e.preview_ad,t.open("POST",d()),t.setRequestHeader("Content-Type","application/json"),t.addEventListener("load",function(e){if(200!=e.target.status)throw"Server replied with "+e.target.status;var t=JSON.parse(e.target.responseText);t.ads.forEach(function(e){for(var t=0;t<e.contents.length;t++)a[e.key].els[t].innerHTML=e.contents[t],a[e.key].els[t].dataset.adLoaded=!0,i(a[e.key].els[t],e),l({el:a[e.key].els[t],ads:e.data})}),window.AvvoAds.adsRequestDone=!0}),t.send(JSON.stringify(o))}var c=function(){},l=function(){},u={loadAds:function(a){var e,d,o={};if(!this.adsLoaded&&(this.adsLoaded=!0,"undefined"==typeof a&&(a={}),"function"==typeof a.onClick&&(c=a.onClick),"function"==typeof a.onRender&&(l=a.onRender),"number"==typeof a.partnerId&&(this.partnerId=a.partnerId),e=document.getElementsByClassName("avvo-ads"),0!==e.length)){for(d=0;d<e.length;d++)void 0==e[d].dataset.adLoaded&&t(o,e[d]);s(o)}},reset:function(){this.adsLoaded=!1,this.adsRequestDone=!1},adsLoaded:!1,adsRequestDone:!1,partnerId:1};return u}(),a()}).call(this);